<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org"
      th:replace="_fragments/layout :: layout(~{::section}, '상품 등록/수정')">
<meta charset="UTF-8">
<section th:fragment="content" th:object="${productForm}">
  <h1>상품 등록/수정</h1>

  <form th:action="${formAction}" method="post" enctype="multipart/form-data">
    <div>
      <label for="isbn">ISBN</label>
      <input id="isbn" type="number" min="0" step="1" th:field="*{isbn}" required />
    </div>

    <div>
      <label for="name">책 이름</label>
      <input id="name" type="text" th:field="*{name}" required />
    </div>

    <div>
      <label for="publisher">출판사</label>
      <input id="publisher" type="text" th:field="*{publisher}" />
    </div>

    <div>
      <label for="author">저자</label>
      <input id="author" type="text" th:field="*{author}" />
    </div>

    <div>
      <label for="price">가격</label>
      <input id="price" type="number" min="0" step="1" th:field="*{price}" required />
    </div>

    <div>
      <label for="size">책 크기</label>
      <input id="size" type="text" th:field="*{size}" placeholder="예: 148x210mm" />
    </div>

    <div>
      <label for="rating">평점</label>
      <input id="rating" type="number" min="0" max="5" step="0.1" th:field="*{rating}" />
    </div>

    <div>
      <label for="saleIndex">판매지수</label>
      <input id="saleIndex" type="number" min="0" step="1" th:field="*{saleIndex}" />
    </div>

    <div>
      <label for="saleStatus">판매상태</label>
      <select id="saleStatus" th:field="*{saleStatus}">
        <option value="ON_SALE">판매중</option>
        <option value="OUT_OF_PRINT">절판</option>
        <option value="TEMP_SOLD_OUT">일시품절</option>
        <option value="COMING_SOON">입고예정</option>
      </select>
    </div>

    <div>
      <label for="image">책 이미지</label>
      <input id="image" name="image" type="file" accept="image/*" />
    </div>

    <div>
      <label for="preview">미리보기(PDF)</label>
      <input id="preview" name="preview" type="file" accept="application/pdf" />
    </div>

    <div>
      <label for="description">상세설명</label>
      <textarea id="description" th:field="*{description}" rows="8"></textarea>
    </div>

    <div th:if="${#fields.hasErrors()}" th:errors="*{*}">유효성 오류</div>

    <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
    <button type="submit">저장</button>
    <a th:href="@{/admin/products}">목록</a>
  </form>
</section>
</html>
